<div class="container">
  <div class="notification chat-header">
    <a ui-sref="eventsShow({ id: vm.group.eventId })"><h1>GO TO EVENT</h1></a>
    <a ui-sref="usersShow({ id: main.user._id })"><h1>GO TO PROFILE</h1></a>

    <div class ="chat-img" style="background-image: url('{{vm.group.image}}');">
      <h2>{{ vm.group.name | uppercase }}</h2>
      <h2>{{ vm.group.description | lowercase }}</h2>
    </div>
  </div>

  <div class="columns chat-box" ng-repeat="comment in vm.group.comments">
    <div class="column chat-box is-1 chat-left">
      <p>{{ comment.createdBy.userName }}</p>
      <div class ="chat-face-img notification is-info" style="background-image: url('{{ comment.createdBy.image }}');"></div>
    </div>
    <div class="column chat-box">
      <h3>{{ comment.body }}</h3>
      <p i class="fa fa-ban" ng-click="vm.commentDelete(comment)" ng-if="main.user._id === comment.createdBy.id"><span class="time">{{ comment.createdAt | date:"MM/dd/yyyy 'at' h:mma" | lowercase }}</span></p>
    </div>
  </div>

<h3 class="warning" ng-if="!vm.membersArray.includes(main.user._id)">to comment, please join the chat</h3>
<form ng-submit="vm.commentCreate()" ng-if="vm.membersArray.includes(main.user._id)">
  <div class="field">
    <div class="control column">
      <textarea class="textarea comment-box" placeholder="type your comment here..." ng-model="vm.comment.body"></textarea>
    </div>
    <button class="button is-link">Submit</button>
  </div>
</form>

<div class="control">
  <p class="button is-link" ng-click="vm.updateGroup()">
    <span ng-if="!vm.membersArray.includes(main.user._id)">Join</span>
    <span ng-if="vm.membersArray.includes(main.user._id)">Leave</span> Group
  </p>
</div>

</div>
